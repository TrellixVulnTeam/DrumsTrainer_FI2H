{"ast":null,"code":"//    abc_create_key_signature.js\n//    Copyright (C) 2010-2018 Gregory Dyke (gregdyke at gmail dot com) and Paul Rosen\n//\n//    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\n//    documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\n//    the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and\n//    to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n//\n//    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n//\n//    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n//    BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n//    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n//    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nvar AbsoluteElement = require('./abc_absolute_element');\n\nvar glyphs = require('./abc_glyphs');\n\nvar RelativeElement = require('./abc_relative_element');\n\nvar parseCommon = require('../parse/abc_common');\n\nvar createKeySignature;\n\n(function () {\n  \"use strict\";\n\n  createKeySignature = function (elem, tuneNumber) {\n    if (!elem.accidentals || elem.accidentals.length === 0) return null;\n    var abselem = new AbsoluteElement(elem, 0, 10, 'staff-extra', tuneNumber);\n    abselem.isKeySig = true;\n    var dx = 0;\n    parseCommon.each(elem.accidentals, function (acc) {\n      var symbol;\n\n      switch (acc.acc) {\n        case \"sharp\":\n          symbol = \"accidentals.sharp\";\n          break;\n\n        case \"natural\":\n          symbol = \"accidentals.nat\";\n          break;\n\n        case \"flat\":\n          symbol = \"accidentals.flat\";\n          break;\n\n        case \"quartersharp\":\n          symbol = \"accidentals.halfsharp\";\n          break;\n\n        case \"quarterflat\":\n          symbol = \"accidentals.halfflat\";\n          break;\n\n        default:\n          symbol = \"accidentals.flat\";\n      }\n\n      abselem.addRight(new RelativeElement(symbol, dx, glyphs.getSymbolWidth(symbol), acc.verticalPos, {\n        thickness: glyphs.symbolHeightInPitches(symbol)\n      }));\n      dx += glyphs.getSymbolWidth(symbol) + 2;\n    }, this);\n    return abselem;\n  };\n})();\n\nmodule.exports = createKeySignature;","map":{"version":3,"sources":["/home/elad/Desktop/Repos/drums-trainer/frontend/node_modules/react-sheet-music/node_modules/abcjs/src/write/abc_create_key_signature.js"],"names":["AbsoluteElement","require","glyphs","RelativeElement","parseCommon","createKeySignature","elem","tuneNumber","accidentals","length","abselem","isKeySig","dx","each","acc","symbol","addRight","getSymbolWidth","verticalPos","thickness","symbolHeightInPitches","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,eAAe,GAAGC,OAAO,CAAC,wBAAD,CAA7B;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,cAAD,CAApB;;AACA,IAAIE,eAAe,GAAGF,OAAO,CAAC,wBAAD,CAA7B;;AAEA,IAAIG,WAAW,GAAGH,OAAO,CAAC,qBAAD,CAAzB;;AAEA,IAAII,kBAAJ;;AAEA,CAAC,YAAW;AACX;;AAEAA,EAAAA,kBAAkB,GAAG,UAASC,IAAT,EAAeC,UAAf,EAA2B;AAC/C,QAAI,CAACD,IAAI,CAACE,WAAN,IAAqBF,IAAI,CAACE,WAAL,CAAiBC,MAAjB,KAA4B,CAArD,EACC,OAAO,IAAP;AACD,QAAIC,OAAO,GAAG,IAAIV,eAAJ,CAAoBM,IAApB,EAA0B,CAA1B,EAA6B,EAA7B,EAAiC,aAAjC,EAAgDC,UAAhD,CAAd;AACAG,IAAAA,OAAO,CAACC,QAAR,GAAmB,IAAnB;AACA,QAAIC,EAAE,GAAG,CAAT;AACAR,IAAAA,WAAW,CAACS,IAAZ,CAAiBP,IAAI,CAACE,WAAtB,EAAmC,UAASM,GAAT,EAAc;AAChD,UAAIC,MAAJ;;AACA,cAAOD,GAAG,CAACA,GAAX;AACC,aAAK,OAAL;AAAcC,UAAAA,MAAM,GAAG,mBAAT;AAA8B;;AAC5C,aAAK,SAAL;AAAgBA,UAAAA,MAAM,GAAG,iBAAT;AAA4B;;AAC5C,aAAK,MAAL;AAAaA,UAAAA,MAAM,GAAG,kBAAT;AAA6B;;AAC1C,aAAK,cAAL;AAAqBA,UAAAA,MAAM,GAAG,uBAAT;AAAkC;;AACvD,aAAK,aAAL;AAAoBA,UAAAA,MAAM,GAAG,sBAAT;AAAiC;;AACrD;AAASA,UAAAA,MAAM,GAAG,kBAAT;AANV;;AAQAL,MAAAA,OAAO,CAACM,QAAR,CAAiB,IAAIb,eAAJ,CAAoBY,MAApB,EAA4BH,EAA5B,EAAgCV,MAAM,CAACe,cAAP,CAAsBF,MAAtB,CAAhC,EAA+DD,GAAG,CAACI,WAAnE,EAAgF;AAACC,QAAAA,SAAS,EAAEjB,MAAM,CAACkB,qBAAP,CAA6BL,MAA7B;AAAZ,OAAhF,CAAjB;AACAH,MAAAA,EAAE,IAAIV,MAAM,CAACe,cAAP,CAAsBF,MAAtB,IAAgC,CAAtC;AACA,KAZD,EAYG,IAZH;AAaA,WAAOL,OAAP;AACA,GApBD;AAqBA,CAxBD;;AA0BAW,MAAM,CAACC,OAAP,GAAiBjB,kBAAjB","sourcesContent":["//    abc_create_key_signature.js\n//    Copyright (C) 2010-2018 Gregory Dyke (gregdyke at gmail dot com) and Paul Rosen\n//\n//    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated\n//    documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation\n//    the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and\n//    to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n//\n//    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n//\n//    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n//    BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n//    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n//    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar AbsoluteElement = require('./abc_absolute_element');\nvar glyphs = require('./abc_glyphs');\nvar RelativeElement = require('./abc_relative_element');\n\nvar parseCommon = require('../parse/abc_common');\n\nvar createKeySignature;\n\n(function() {\n\t\"use strict\";\n\n\tcreateKeySignature = function(elem, tuneNumber) {\n\t\tif (!elem.accidentals || elem.accidentals.length === 0)\n\t\t\treturn null;\n\t\tvar abselem = new AbsoluteElement(elem, 0, 10, 'staff-extra', tuneNumber);\n\t\tabselem.isKeySig = true;\n\t\tvar dx = 0;\n\t\tparseCommon.each(elem.accidentals, function(acc) {\n\t\t\tvar symbol;\n\t\t\tswitch(acc.acc) {\n\t\t\t\tcase \"sharp\": symbol = \"accidentals.sharp\"; break;\n\t\t\t\tcase \"natural\": symbol = \"accidentals.nat\"; break;\n\t\t\t\tcase \"flat\": symbol = \"accidentals.flat\"; break;\n\t\t\t\tcase \"quartersharp\": symbol = \"accidentals.halfsharp\"; break;\n\t\t\t\tcase \"quarterflat\": symbol = \"accidentals.halfflat\"; break;\n\t\t\t\tdefault: symbol = \"accidentals.flat\";\n\t\t\t}\n\t\t\tabselem.addRight(new RelativeElement(symbol, dx, glyphs.getSymbolWidth(symbol), acc.verticalPos, {thickness: glyphs.symbolHeightInPitches(symbol)}));\n\t\t\tdx += glyphs.getSymbolWidth(symbol) + 2;\n\t\t}, this);\n\t\treturn abselem;\n\t};\n})();\n\nmodule.exports = createKeySignature;\n"]},"metadata":{},"sourceType":"script"}