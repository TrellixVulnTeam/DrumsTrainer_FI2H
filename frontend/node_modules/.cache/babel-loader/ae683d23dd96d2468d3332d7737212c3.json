{"ast":null,"code":"var SynthSequence = require('./synth-sequence');\n\nvar CreateSynth = require('./create-synth');\n\nfunction playEvent(midiPitches, midiGracePitches, millisecondsPerMeasure) {\n  var sequence = new SynthSequence();\n\n  for (var i = 0; i < midiPitches.length; i++) {\n    var note = midiPitches[i];\n    var trackNum = sequence.addTrack();\n    sequence.setInstrument(trackNum, note.instrument);\n\n    if (i === 0 && midiGracePitches) {\n      for (var j = 0; j < midiGracePitches.length; j++) {\n        var grace = midiGracePitches[j];\n        sequence.appendNote(trackNum, grace.pitch, 1 / 64, grace.volume);\n      }\n    }\n\n    sequence.appendNote(trackNum, note.pitch, note.durationInMeasures, note.volume);\n  }\n\n  var buffer = new CreateSynth();\n  return buffer.init({\n    sequence: sequence,\n    millisecondsPerMeasure: millisecondsPerMeasure\n  }).then(function () {\n    return buffer.prime();\n  }).then(function () {\n    return buffer.start();\n  });\n}\n\nmodule.exports = playEvent;","map":{"version":3,"sources":["/home/elad/Desktop/Repos/drums-trainer/frontend/node_modules/react-sheet-music/node_modules/abcjs/src/synth/play-event.js"],"names":["SynthSequence","require","CreateSynth","playEvent","midiPitches","midiGracePitches","millisecondsPerMeasure","sequence","i","length","note","trackNum","addTrack","setInstrument","instrument","j","grace","appendNote","pitch","volume","durationInMeasures","buffer","init","then","prime","start","module","exports"],"mappings":"AAAA,IAAIA,aAAa,GAAGC,OAAO,CAAC,kBAAD,CAA3B;;AACA,IAAIC,WAAW,GAAGD,OAAO,CAAC,gBAAD,CAAzB;;AAEA,SAASE,SAAT,CAAmBC,WAAnB,EAAgCC,gBAAhC,EAAkDC,sBAAlD,EAA0E;AACzE,MAAIC,QAAQ,GAAG,IAAIP,aAAJ,EAAf;;AAEA,OAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,WAAW,CAACK,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC5C,QAAIE,IAAI,GAAGN,WAAW,CAACI,CAAD,CAAtB;AACA,QAAIG,QAAQ,GAAGJ,QAAQ,CAACK,QAAT,EAAf;AACAL,IAAAA,QAAQ,CAACM,aAAT,CAAuBF,QAAvB,EAAiCD,IAAI,CAACI,UAAtC;;AACA,QAAIN,CAAC,KAAK,CAAN,IAAWH,gBAAf,EAAiC;AAChC,WAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,gBAAgB,CAACI,MAArC,EAA6CM,CAAC,EAA9C,EAAkD;AACjD,YAAIC,KAAK,GAAGX,gBAAgB,CAACU,CAAD,CAA5B;AACAR,QAAAA,QAAQ,CAACU,UAAT,CAAoBN,QAApB,EAA8BK,KAAK,CAACE,KAApC,EAA2C,IAAI,EAA/C,EAAmDF,KAAK,CAACG,MAAzD;AACA;AACD;;AACDZ,IAAAA,QAAQ,CAACU,UAAT,CAAoBN,QAApB,EAA8BD,IAAI,CAACQ,KAAnC,EAA0CR,IAAI,CAACU,kBAA/C,EAAmEV,IAAI,CAACS,MAAxE;AACA;;AAED,MAAIE,MAAM,GAAG,IAAInB,WAAJ,EAAb;AACA,SAAOmB,MAAM,CAACC,IAAP,CAAY;AAClBf,IAAAA,QAAQ,EAAEA,QADQ;AAElBD,IAAAA,sBAAsB,EAAEA;AAFN,GAAZ,EAGJiB,IAHI,CAGC,YAAY;AACnB,WAAOF,MAAM,CAACG,KAAP,EAAP;AACA,GALM,EAKJD,IALI,CAKC,YAAY;AACnB,WAAOF,MAAM,CAACI,KAAP,EAAP;AACA,GAPM,CAAP;AAQA;;AACDC,MAAM,CAACC,OAAP,GAAiBxB,SAAjB","sourcesContent":["var SynthSequence = require('./synth-sequence');\nvar CreateSynth = require('./create-synth');\n\nfunction playEvent(midiPitches, midiGracePitches, millisecondsPerMeasure) {\n\tvar sequence = new SynthSequence();\n\n\tfor (var i = 0; i < midiPitches.length; i++) {\n\t\tvar note = midiPitches[i];\n\t\tvar trackNum = sequence.addTrack();\n\t\tsequence.setInstrument(trackNum, note.instrument);\n\t\tif (i === 0 && midiGracePitches) {\n\t\t\tfor (var j = 0; j < midiGracePitches.length; j++) {\n\t\t\t\tvar grace = midiGracePitches[j];\n\t\t\t\tsequence.appendNote(trackNum, grace.pitch, 1 / 64, grace.volume);\n\t\t\t}\n\t\t}\n\t\tsequence.appendNote(trackNum, note.pitch, note.durationInMeasures, note.volume);\n\t}\n\n\tvar buffer = new CreateSynth();\n\treturn buffer.init({\n\t\tsequence: sequence,\n\t\tmillisecondsPerMeasure: millisecondsPerMeasure\n\t}).then(function () {\n\t\treturn buffer.prime();\n\t}).then(function () {\n\t\treturn buffer.start();\n\t});\n}\nmodule.exports = playEvent;\n"]},"metadata":{},"sourceType":"script"}