{"ast":null,"code":"var SynthSequence = function () {\n  var self = this;\n  self.tracks = [];\n  self.totalDuration = 0;\n\n  self.addTrack = function () {\n    self.tracks.push([]);\n    return self.tracks.length - 1;\n  };\n\n  self.setInstrument = function (trackNumber, instrumentNumber) {\n    self.tracks[trackNumber].push({\n      channel: 0,\n      cmd: \"program\",\n      instrument: instrumentNumber\n    });\n  };\n\n  self.appendNote = function (trackNumber, pitch, durationInMeasures, volume) {\n    self.tracks[trackNumber].push({\n      cmd: \"start\",\n      pitch: pitch - 60,\n      volume: volume\n    });\n    self.tracks[trackNumber].push({\n      cmd: \"move\",\n      duration: durationInMeasures\n    });\n    self.tracks[trackNumber].push({\n      cmd: \"stop\",\n      pitch: pitch - 60\n    });\n    var duration = 0;\n    self.tracks[trackNumber].forEach(function (event) {\n      if (event.duration) duration += event.duration;\n    });\n    self.totalDuration = Math.max(self.totalDuration, duration);\n  };\n};\n\nmodule.exports = SynthSequence;","map":{"version":3,"sources":["/home/elad/Desktop/Repos/drums-trainer/frontend/node_modules/react-sheet-music/node_modules/abcjs/src/synth/synth-sequence.js"],"names":["SynthSequence","self","tracks","totalDuration","addTrack","push","length","setInstrument","trackNumber","instrumentNumber","channel","cmd","instrument","appendNote","pitch","durationInMeasures","volume","duration","forEach","event","Math","max","module","exports"],"mappings":"AAAA,IAAIA,aAAa,GAAG,YAAW;AAC9B,MAAIC,IAAI,GAAG,IAAX;AACAA,EAAAA,IAAI,CAACC,MAAL,GAAc,EAAd;AACAD,EAAAA,IAAI,CAACE,aAAL,GAAqB,CAArB;;AAEAF,EAAAA,IAAI,CAACG,QAAL,GAAgB,YAAW;AAC1BH,IAAAA,IAAI,CAACC,MAAL,CAAYG,IAAZ,CAAiB,EAAjB;AACA,WAAOJ,IAAI,CAACC,MAAL,CAAYI,MAAZ,GAAqB,CAA5B;AACA,GAHD;;AAKAL,EAAAA,IAAI,CAACM,aAAL,GAAqB,UAASC,WAAT,EAAsBC,gBAAtB,EAAwC;AAC5DR,IAAAA,IAAI,CAACC,MAAL,CAAYM,WAAZ,EAAyBH,IAAzB,CAA8B;AAC7BK,MAAAA,OAAO,EAAE,CADoB;AAE7BC,MAAAA,GAAG,EAAE,SAFwB;AAG7BC,MAAAA,UAAU,EAAEH;AAHiB,KAA9B;AAKA,GAND;;AAQAR,EAAAA,IAAI,CAACY,UAAL,GAAkB,UAASL,WAAT,EAAsBM,KAAtB,EAA6BC,kBAA7B,EAAiDC,MAAjD,EAAyD;AAC1Ef,IAAAA,IAAI,CAACC,MAAL,CAAYM,WAAZ,EAAyBH,IAAzB,CAA8B;AAC7BM,MAAAA,GAAG,EAAE,OADwB;AAE7BG,MAAAA,KAAK,EAAEA,KAAK,GAAG,EAFc;AAG7BE,MAAAA,MAAM,EAAEA;AAHqB,KAA9B;AAKAf,IAAAA,IAAI,CAACC,MAAL,CAAYM,WAAZ,EAAyBH,IAAzB,CAA8B;AAC7BM,MAAAA,GAAG,EAAE,MADwB;AAE7BM,MAAAA,QAAQ,EAAEF;AAFmB,KAA9B;AAIAd,IAAAA,IAAI,CAACC,MAAL,CAAYM,WAAZ,EAAyBH,IAAzB,CAA8B;AAC7BM,MAAAA,GAAG,EAAE,MADwB;AAE7BG,MAAAA,KAAK,EAAEA,KAAK,GAAG;AAFc,KAA9B;AAIA,QAAIG,QAAQ,GAAG,CAAf;AACAhB,IAAAA,IAAI,CAACC,MAAL,CAAYM,WAAZ,EAAyBU,OAAzB,CAAiC,UAASC,KAAT,EAAgB;AAChD,UAAIA,KAAK,CAACF,QAAV,EACCA,QAAQ,IAAIE,KAAK,CAACF,QAAlB;AACD,KAHD;AAIAhB,IAAAA,IAAI,CAACE,aAAL,GAAqBiB,IAAI,CAACC,GAAL,CAASpB,IAAI,CAACE,aAAd,EAA6Bc,QAA7B,CAArB;AACA,GApBD;AAqBA,CAvCD;;AAyCAK,MAAM,CAACC,OAAP,GAAiBvB,aAAjB","sourcesContent":["var SynthSequence = function() {\n\tvar self = this;\n\tself.tracks = [];\n\tself.totalDuration = 0;\n\n\tself.addTrack = function() {\n\t\tself.tracks.push([]);\n\t\treturn self.tracks.length - 1;\n\t};\n\n\tself.setInstrument = function(trackNumber, instrumentNumber) {\n\t\tself.tracks[trackNumber].push({\n\t\t\tchannel: 0,\n\t\t\tcmd: \"program\",\n\t\t\tinstrument: instrumentNumber\n\t\t});\n\t};\n\n\tself.appendNote = function(trackNumber, pitch, durationInMeasures, volume) {\n\t\tself.tracks[trackNumber].push({\n\t\t\tcmd: \"start\",\n\t\t\tpitch: pitch - 60,\n\t\t\tvolume: volume\n\t\t});\n\t\tself.tracks[trackNumber].push({\n\t\t\tcmd: \"move\",\n\t\t\tduration: durationInMeasures\n\t\t});\n\t\tself.tracks[trackNumber].push({\n\t\t\tcmd: \"stop\",\n\t\t\tpitch: pitch - 60\n\t\t});\n\t\tvar duration = 0;\n\t\tself.tracks[trackNumber].forEach(function(event) {\n\t\t\tif (event.duration)\n\t\t\t\tduration += event.duration;\n\t\t});\n\t\tself.totalDuration = Math.max(self.totalDuration, duration);\n\t};\n};\n\nmodule.exports = SynthSequence;\n"]},"metadata":{},"sourceType":"script"}